module top_module # (
    parameter N = 16,      // Number of bits input
    parameter NUM_FIRS = 8 // Number of FIR filters
) (
    input  clk,
    input  rst,
    input  ena,
    input  [N-1:0] x_in,
    output [N-1:0] y_out_1,
    output [N-1:0] y_out_2,
    output [N-1:0] y_out_3,
    output [N-1:0] y_out_4,
    output [N-1:0] y_out_5,
    output [N-1:0] y_out_6,
    output [N-1:0] y_out_7,
    output [N-1:0] y_out_8
);

    parameter [5:0] DELAYS [1:8] = '{ // Use array have 8 elements , each element have 6bits
        5'd24, 
        5'd42,
        5'd48,
        5'd48,
        5'd48,
        5'd50,
        5'd52,
        5'd52      
    };

   // parameter [(52+1)*N-1:0] COEFFICIENTS [1:8]

    // parameter [NUM_FIRS*64-1:0] DELAYS = '{3, 4, 5, 6, 7, 8, 9, 10}; // Array of DELAYS for each FIR filter
    // parameter [NUM_FIRS-1:0] COEFFICIENTS = '{32'h12345678, 32'h23456789, 32'h3456789A, 32'h456789AB, 32'h56789ABC, 32'h6789ABCD, 32'h789ABCDE, 32'h89ABCDEF}; // Array of coefficients for each FIR filter
    parameter [(DELAYS[1]+1)*N-1:0] b_1 = {
        16'b11111101,
        16'b11111110,
        16'b11111111,
        16'b0,
        16'b1,
        16'b11111111,
        16'b11111110,
        16'b11111101,
        16'b10,
        16'b1100,
        16'b11001,
        16'b100000,
        16'b11010,
        16'b11111111,
        16'b11010111,
        16'b10110001,
        16'b10011111,
        16'b10110010,
        16'b11101000,
        16'b110000,
        16'b1101100,
        16'b1111111,
        16'b1101100,
        16'b110000,
        16'b11101000,
        16'b10110010,
        16'b10011111,
        16'b10110001,
        16'b11010111,
        16'b11111111,
        16'b11010,
        16'b100000,
        16'b11001,
        16'b1100,
        16'b10,
        16'b11111101
        16'b11111110,
        16'b11111111,
        16'b1,
        16'b0,
        16'b11111111,
        16'b11111110,
        16'b11111101
    };

    parameter [(DELAYS[2]+1)*N-1:0] b_2 = {
        16'b0,
        16'b1,
        16'b10,
        16'b0,
        16'b11111101,
        16'b11111100,
        16'b11111110,
        16'b1,
        16'b11111111,
        16'b11111110,
        16'b10,
        16'b1101,
        16'b1110,
        16'b11111010,
        16'b11011011,
        16'b11010101,
        16'b0,
        16'b111101,
        16'b1001111,
        16'b10011,
        16'b10110011,
        16'b10001110,
        16'b11010001,
        16'b1000110,
        16'b1111111,
        16'b1000110,
        16'b11010001,
        16'b10001110,
        16'b10110011,
        16'b10011,
        16'b1001111,
        16'b111101,
        16'b0,
        16'b11010101,
        16'b11011011,
        16'b11111010,
        16'b1110,
        16'b1101,
        16'b10,
        16'b11111110,
        16'b11111111,
        16'b1,
        16'b11111110,
        16'b11111100,
        16'b11111101,
        16'b0,
        16'b10,
        16'b1,
        16'b0
    };

    parameter [(DELAYS[3]+1)*N-1:0] b_3 = {
        16'b11111111,
        16'b11111101,
        16'b11111111,
        16'b10,
        16'b10,
        16'b11111110,
        16'b11111101,
        16'b0,
        16'b11111111,
        16'b11111111,
        16'b110,
        16'b111,
        16'b11110001,
        16'b11100111,
        16'b1111,
        16'b110001,
        16'b11111111,
        16'b10110110,
        16'b11011110,
        16'b1010001,
        16'b1001100,
        16'b10111111,
        16'b10001111,
        16'b11000,
        16'b1111111,
        16'b11000,
        16'b10001111,
        16'b10111111,
        16'b1001100,
        16'b1010001,
        16'b11011110,
        16'b10110110,
        16'b11111111,
        16'b110001,
        16'b1111,
        16'b11100111,
        16'b11110001,
        16'b111,
        16'b110,
        16'b11111111,
        16'b11111111,
        16'b0,
        16'b11111101,
        16'b11111110,
        16'b10,
        16'b10,
        16'b11111111,
        16'b11111101,
        16'b11111111
    };

    parameter [(DELAYS[4]+1)*N-1:0] b_4 = {
        16'b0,
        16'b10,
        16'b11111111,
        16'b11111101,
        16'b10,
        16'b1,
        16'b11111101,
        16'b11111111,
        16'b11111111,
        16'b0,
        16'b110,
        16'b11111000,
        16'b11110001,
        16'b11000,
        16'b1111,
        16'b11001110,
        16'b0,
        16'b1001001,
        16'b11011110,
        16'b10101110,
        16'b1001100,
        16'b1000000,
        16'b10001111,
        16'b11100111,
        16'b1111111,
        16'b11100111,
        16'b10001111,
        16'b1000000,
        16'b1001100,
        16'b10101110,
        16'b11011110,
        16'b1001001,
        16'b0,
        16'b11001110,
        16'b1111,
        16'b11000,
        16'b11110001,
        16'b11111000,
        16'b110,
        16'b0,
        16'b11111111,
        16'b11111111,
        16'b11111101,
        16'b1,
        16'b10,
        16'b11111101,
        16'b11111111,
        16'b10,
        16'b0
    };

    parameter [(DELAYS[5]+1)*N-1:0] b_5 = {
        16'b1,
        16'b11111111,
        16'b11111101,
        16'b10,
        16'b11111111,
        16'b11111101,
        16'b11,
        16'b11111110,
        16'b11111110,
        16'b11111111,
        16'b1,
        16'b11,
        16'b11110010,
        16'b1111,
        16'b101,
        16'b11011010,
        16'b101010,
        16'b11111111,
        16'b11000001,
        16'b1010000,
        16'b11101100,
        16'b10110011,
        16'b1110001,
        16'b11010001,
        16'b10111010,
        16'b1111110,
        16'b10111010,
        16'b11010001,
        16'b1110001,
        16'b10110011,
        16'b11101100,
        16'b1010000,
        16'b11000001,
        16'b11111111,
        16'b101010,
        16'b11011010,
        16'b101,
        16'b1111,
        16'b11110010,
        16'b11,
        16'b1,
        16'b11111111,
        16'b11111110,
        16'b11111110,
        16'b11,
        16'b11111101,
        16'b11111111,
        16'b10,
        16'b11111101,
        16'b11111111,
        16'b1
    };

    parameter [(DELAYS[6]+1)*N-1:0] b_6 = {
        16'b1,
        16'b11111110,
        16'b0,
        16'b1,
        16'b11111100,
        16'b100,
        16'b11111100,
        16'b0,
        16'b1,
        16'b11111110,
        16'b11111111,
        16'b10,
        16'b11111100,
        16'b11111101,
        16'b1111,
        16'b11100001,
        16'b100110,
        16'b11100010,
        16'b0,
        16'b101010,
        16'b10101111,
        16'b1100000,
        16'b10110100,
        16'b10110,
        16'b101110,
        16'b10011000,
        16'b1111101,
        16'b10011000,
        16'b101110,
        16'b10110,
        16'b10110100,
        16'b1100000,
        16'b10101111,
        16'b101010,
        16'b0,
        16'b11100010,
        16'b100110,
        16'b11100001,
        16'b1111,
        16'b11111101,
        16'b11111100,
        16'b10,
        16'b11111111,
        16'b11111110,
        16'b1,
        16'b0,
        16'b11111100,
        16'b100,
        16'b11111100,
        16'b1,
        16'b0,
        16'b11111110,
        16'b1
    };

    parameter [(DELAYS[7]+1)*N-1:0] b_7 = {
        16'b1,
        16'b11111110,
        16'b0,
        16'b1,
        16'b11111100,
        16'b100,
        16'b11111100,
        16'b0,
        16'b1,
        16'b11111110,
        16'b11111111,
        16'b10,
        16'b11111100,
        16'b11111101,
        16'b1111,
        16'b11100001,
        16'b100110,
        16'b11100010,
        16'b0,
        16'b101010,
        16'b10101111,
        16'b1100000,
        16'b10110100,
        16'b10110,
        16'b101110,
        16'b10011000,
        16'b1111101,
        16'b10011000,
        16'b101110,
        16'b10110,
        16'b10110100,
        16'b1100000,
        16'b10101111,
        16'b101010,
        16'b0,
        16'b11100010,
        16'b100110,
        16'b11100001,
        16'b1111,
        16'b11111101,
        16'b11111100,
        16'b10,
        16'b11111111,
        16'b11111110,
        16'b1,
        16'b0,
        16'b11111100,
        16'b100,
        16'b11111100,
        16'b1,
        16'b0,
        16'b11111110,
        16'b1
    };

    parameter [(DELAYS[8]+1)*N-1:0] b_8 = {
        16'b1,
        16'b11111110,
        16'b0,
        16'b1,
        16'b11111100,
        16'b100,
        16'b11111100,
        16'b0,
        16'b1,
        16'b11111110,
        16'b11111111,
        16'b10,
        16'b11111100,
        16'b11111101,
        16'b1111,
        16'b11100001,
        16'b100110,
        16'b11100010,
        16'b0,
        16'b101010,
        16'b10101111,
        16'b1100000,
        16'b10110100,
        16'b10110,
        16'b101110,
        16'b10011000,
        16'b1111101,
        16'b10011000,
        16'b101110,
        16'b10110,
        16'b10110100,
        16'b1100000,
        16'b10101111,
        16'b101010,
        16'b0,
        16'b11100010,
        16'b100110,
        16'b11100001,
        16'b1111,
        16'b11111101,
        16'b11111100,
        16'b10,
        16'b11111111,
        16'b11111110,
        16'b1,
        16'b0,
        16'b11111100,
        16'b100,
        16'b11111100,
        16'b1,
        16'b0,
        16'b11111110,
        16'b1
    };

    fir_n #(DELAYS[1], N) fir_1 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_1), 
        .x_in(x_in), 
        .y_out(y_out_1)
    );

    fir_n #(DELAYS[2], N) fir_2 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_2), 
        .x_in(x_in), 
        .y_out(y_out_2)
    );

    fir_n #(DELAYS[3], N) fir_3 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_3), 
        .x_in(x_in), 
        .y_out(y_out_3)
    );

    fir_n #(DELAYS[4], N) fir_4 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_4), 
        .x_in(x_in), 
        .y_out(y_out_4)
    );

    fir_n #(DELAYS[5], N) fir_5 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_5), 
        .x_in(x_in), 
        .y_out(y_out_5)
    );

    fir_n #(DELAYS[6], N) fir_6 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_6), 
        .x_in(x_in), 
        .y_out(y_out_6)
    );

    fir_n #(DELAYS[7], N) fir_7 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_7), 
        .x_in(x_in), 
        .y_out(y_out_7)
    );

    fir_n #(DELAYS[8], N) fir_8 (
        .clk(clk), 
        .rst(rst), 
        .ena(ena), 
        .b(b_8), 
        .x_in(x_in), 
        .y_out(y_out_8)
    );

endmodule